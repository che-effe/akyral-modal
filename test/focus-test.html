<!doctype html>
<html>

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>akyral-modal</title>

    <script src="../../webcomponentsjs/webcomponents.js"></script>
    <script src="../../web-component-tester/browser.js"></script>
    <script src="../../sinon/index.js"></script>

    <link rel="import" href="../akyral-modal.html">
  </head>

  <body>

    <akyral-modal id="diag">
      <input id="input1" type="text" name="some_name" value="" />
      <input id="input2" type="text" name="some_name" value="" />
      <input id="input3" type="text" name="some_name" value="" />
    </akyral-modal>

    <script>
      var modelEl = document.querySelector('#diag');
      var input1 = document.querySelector('#input1');
      var input2 = document.querySelector('#input2');
      var input3 = document.querySelector('#input3');

      describe('<akyral-modal>', function() {

        describe('when showing', function() {
          it('should set the modal as the first focusable element',
          function(done) {

            modelEl.show();

            setTimeout(function(){
                assert.isTrue(modelEl.$.content === document.activeElement);
                done();
            }, 500);
          });

          it('TBD: should set the next element when hitting tab key', function() {

              // var e = new KeyboardEvent("keydown", {
              //     bubbles: true,
              //     cancelable: true
              // });
              //
              // delete e.keyCode;
              // Object.defineProperty(e, 'keyCode', { 'value' : 9 });
              //
              // diagEl.dispatchEvent(e);
              // assert.isTrue(input2 === document.activeElement);
          });
        });
      });
    </script>
  </body>

</html>
